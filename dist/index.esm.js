import t,{useRef as e,useMemo as r}from"react";import{useTransition as o,animated as i}from"react-spring";import{useMeasure as n}from"react-use";function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t}).apply(this,arguments)}function p(p){const a=p.style,f=p.children,h=p.itemMarginTop,c=void 0===h?0:h,u=p.itemMarginRight,s=void 0===u?0:u,m=p.itemMarginBottom,d=void 0===m?0:m,g=p.itemMarginLeft,v=void 0===g?0:g,y=n(),w=y[0],k=y[1].width,x=e(new Array(f.length)),E=f.map(()=>{const t=n(),e=t[1];return{size:t[0],width:e.width,height:e.height}}),M=r(()=>(((t,e,r,o,i,n,l)=>{let p=0,a=0,f=0,h=l,c=[40];const u=[];return t.forEach((t,s)=>{let m=e[s].width;c.push(e[s].height);const d=n+m+o;(h<=d&&l>d||d>=l&&0!==s)&&(p+=1,a+=r+Math.max(...c)+i,f=0,h=l,c=[40]),u.push({row:p,top:a+r,left:f+n}),h-=d,f+=d}),u})(f,E,c,s,d,v,k).forEach((t,e)=>{x.current[e]=l({},x.current[e],t)}),f.map((t,e)=>l({},t,{key:t.key||0,top:x.current[e].top,left:x.current[e].left,width:E[e].width}))),[k,E]),O=o(M,t=>t.key,{from:({top:t,left:e})=>({top:t,left:e}),enter:({top:t,left:e})=>({top:t,left:e}),update:({top:t,left:e})=>({top:t,left:e})});return t.createElement("div",{style:l({},a,{position:"relative"}),ref:w},(null==f?void 0:f.length)&&O.map((e,r)=>{const o=e.item,n=e.props,p=n.top,a=n.left,h=function(t,e){if(null==t)return{};var r,o,i={},n=Object.keys(t);for(o=0;o<n.length;o++)e.indexOf(r=n[o])>=0||(i[r]=t[r]);return i}(n,["top","left","width"]);return t.createElement(i.div,{key:o.key,style:l({position:"absolute",height:E[r].height,top:null==p?void 0:p.interpolate(t=>t+"px"),left:null==a?void 0:a.interpolate(t=>t+"px")},h)},t.cloneElement(f[r],{ref:E[r].size}))}))}export{p as GridComponent};
//# sourceMappingURL=index.esm.js.map
