import t,{useRef as e,useMemo as r}from"react";import{useTransition as o,animated as n}from"react-spring";import{useMeasure as i}from"react-use";function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t}).apply(this,arguments)}const p=0,a=0,f=0,h=0;function c(c){const{style:s,children:u,itemMarginTop:m=p,itemMarginRight:g=a,itemMarginBottom:d=f,itemMarginLeft:y=h}=c,[v,{width:w}]=i(),k=e(new Array(u.length)),x=u.map(()=>{const[t,{width:e,height:r}]=i();return{size:t,width:e,height:r}}),E=r(()=>(((t,e,r,o,n,i,l)=>{let p=0,a=0,f=0,h=l,c=[40];const s=[];return t.forEach((t,u)=>{let m=e[u].width;c.push(e[u].height);const g=i+m+o;(h<=g&&l>g||g>=l&&0!==u)&&(p+=1,a+=r+Math.max(...c)+n,f=0,h=l,c=[40]),s.push({row:p,top:a+r,left:f+i}),h-=g,f+=g}),s})(u,x,m,g,d,y,w).forEach((t,e)=>{k.current[e]=l({},k.current[e],t)}),u.map((t,e)=>l({},t,{key:t.key||0,top:k.current[e].top,left:k.current[e].left,width:x[e].width}))),[w,x]),M=o(E,t=>t.key,{from:({top:t,left:e})=>({top:t,left:e}),enter:({top:t,left:e})=>({top:t,left:e}),update:({top:t,left:e})=>({top:t,left:e})});return t.createElement("div",{style:l({},s,{position:"relative"}),ref:v},(null==u?void 0:u.length)&&M.map((e,r)=>{const{item:o,props:{top:i,left:p}}=e,a=function(t,e){if(null==t)return{};var r,o,n={},i=Object.keys(t);for(o=0;o<i.length;o++)e.indexOf(r=i[o])>=0||(n[r]=t[r]);return n}(e.props,["top","left","width"]);return t.createElement(n.div,{key:o.key,style:l({position:"absolute",height:x[r].height,top:null==i?void 0:i.interpolate(t=>`${t}px`),left:null==p?void 0:p.interpolate(t=>`${t}px`)},a)},t.cloneElement(u[r],{ref:x[r].size}))}))}export{c as GridComponent};
//# sourceMappingURL=index.modern.js.map
